{% extends "snippets/base.html" %}
    {% load staticfiles %} {% block css %}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/1.0.1/tailwind.min.css">
    {% endblock %}
{% block title %}
    <title>Book Your dream Holiday.</title>
{% endblock %}
{% block meta %}
<meta name="description" content="Book our purpose-built overland campers to tour Northeast India and Bhutan. You can camp in remote locations with stunning views in the rooftop tents attached on the vehicles. Explore unique destinations, communities, and culture in Northeast India and Bhutan with Camping Co.â€™s pioneering self-drive overland travel form.">
<meta name="keywords" content="vehicles for camping, vehicles for camping company, camping vehicles northeast, rooftop tent vehicle , rent a vehicle meghalaya, overlanding car thar, modified vehicles northeast, cheapest camping vehicle, guwahati camping vehicle rent">
{% endblock %}
{% block content_block %}
<br>
<br>
<br>
    <div class="max-w-6xl mx-auto">
        <div class="row">
            {% for car in cars %}
            <div class="col-sm-12 col-md-6 col-lg-4 pt-6 p-6">
                <div class="bg-white shadow-xl rounded-lg overflow-hidden">
                    <div class="bg-cover bg-center h-56 p-4" style="background-image: url({{car.car_image.url}});">
                        <div class="flex justify-end">
                            <svg class="h-6 w-6 text-white fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M12.76 3.76a6 6 0 0 1 8.48 8.48l-8.53 8.54a1 1 0 0 1-1.42 0l-8.53-8.54a6 6 0 0 1 8.48-8.48l.76.75.76-.75zm7.07 7.07a4 4 0 1 0-5.66-5.66l-1.46 1.47a1 1 0 0 1-1.42 0L9.83 5.17a4 4 0 1 0-5.66 5.66L12 18.66l7.83-7.83z"></path>
                            </svg>
                        </div>
                    </div>
                    <div class="p-4">
                        <p class="uppercase tracking-wide text-sm font-bold text-gray-700">{{car.car_name}}</p>
                        <p class="text-3xl text-gray-900">INR {{car.price}}*</p>
                        <p class="text-gray-700">{{car.drive_train}}</p>
                    </div>
                    <div class="px-4 pt-3 pb-4 border-t border-gray-300 bg-gray-100">
                        <div class="flex items-center pt-2">
                            <div>
                                <form style="display:inline-block" action="{% url 'pay:pay' %}" method="POST">{% csrf_token %}
                                    <input hidden name="price" value="{{car.price}}">
                                    <button id="btn-{{car.pk}}-{{car.seat}}" class="bg-green-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Book Now</button>
                                </form>
                                <button onclick= "location.href = '{% url 'vehicle:vehicle_info'%}';" class="bg-green-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">More Info</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

<br>
<script>
window.onload = function() {
    var queryDict = {}
    location.search.substr(1).split("&").forEach(function(item) {queryDict[item.split("=")[0]] = item.split("=")[1]})
    localStorage.setItem("duration", queryDict["Duration"]);
    localStorage.setItem("check_in", queryDict["tripDay"]);

        $("button[id^='btn-']").click(function(){
            localStorage.setItem("car_id", parseInt(this.id.split('-')[1]))
            localStorage.setItem("car_seat", parseInt(this.id.split('-')[2]))
        })
}
</script>
{% endblock %}
