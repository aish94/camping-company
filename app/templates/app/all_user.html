{% extends "snippets/base.html" %}
{% load staticfiles %}
{% block css %}
<!--<link rel="stylesheet" href="{% static 'css/all_user.css' %}">-->
<link rel="preload" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css"></noscript>
{% endblock %}


{% block meta %}
{% endblock %}

{% block content_block %}
<br/>
    <h1 class="my-5" style="text-align: center;">All User</h1>
<div class="container">
    <form action="{% url 'app:all_user' %}" method="POST">{% csrf_token %}
            <div class="form-group">
                <label for="usr">Email:</label>
                <input type="text" class="form-control" id="usr" name="email">
                <br>
                <input class="btn btn-secondary" type="submit" value="Filter user">
            </div>
    </form>
    <table class="table table-striped table-bordered equipment" style="width:100%">
            <thead>
                <tr>
                    <th>UserName</th>
                    <th>Email Address</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Joined</th>
                    <th>Phone</th>
                </tr>
            </thead>
            <tbody>
                {% for x in user %}
                    <tr>
                        <td><a href="{% url 'app:detail_user' pk=x.pk %}">{{ x.username }}</a></td>
                        <td>{{ x.email }}</td>
                        <td>{{ x.first_name }}</td>
                        <td>{{ x.last_name }}</td>
                        <td>{{ x.date_joined }}</td>
                        <td>{{ x.phone }}</td>
                    </tr>
                {% endfor %}
            </tbody>

        </table>
        <br>
        <br>
        <br>
</div>
{% endblock %}


{% block js %}
<script defer src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script defer src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js"></script>
<script defer src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script>
<script>
window.onload=function(){$(".equipment").DataTable({order:[[3,"desc"]],dom:'Bfrtip',buttons:['csv']})};
</script>
{% endblock %}